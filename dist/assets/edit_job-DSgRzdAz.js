import{u as y,r as v,c as d,h as _,a as t,i as g,w as j,l as w,e as s,v as l,m as c,F as b,k as h,t as u,b as k,o as r,j as V}from"./index-DvIucCfW.js";import{S as U,H as T}from"./Header-COgp6Avw.js";import{C as A}from"./Ckeditor-ilewavs8.js";import{a as p}from"./axios-Cm0UX6qg.js";import"./dark-logo-B7jH5WIl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"page-wrapper",id:"main-wrapper","data-layout":"vertical","data-navbarbg":"skin6","data-sidebartype":"full","data-sidebar-position":"fixed","data-header-position":"fixed"},S={class:"body-wrapper"},D={class:"container-fluid"},F={class:"card"},M={class:"card-body"},q={class:"d-flex justify-content-between"},L=t("h5",{class:"card-title fw-semibold mb-4"},"Edit Job",-1),E=["model","value"],H={class:"row"},I={class:"col-lg-4 mb-4"},K=t("label",{class:"mb-2"},"Title",-1),B={class:"col-lg-4 mb-4"},N=t("label",{class:"mb-2"},"Publication",-1),P={class:"col-lg-4 mb-4"},O=t("label",{class:"mb-2"},"Category",-1),Y=t("option",{value:"",class:"2",disabled:""},"Select",-1),z=["value"],J={class:"col-lg-4 mb-4"},X=t("label",{class:"mb-2"},"Location",-1),R=t("option",{value:"",class:"2",disabled:""},"Select",-1),W=["value"],G={class:"col-lg-4 mb-4"},Q=t("label",{class:"mb-2"},"Status",-1),Z=t("option",{value:"1",class:"2"},"Active",-1),x=t("option",{value:"0",class:"2"},"Inactive",-1),tt=[Z,x],ot={class:"col-lg-4 mb-4"},et=t("label",{class:"mb-2"},"Feature",-1),at=t("option",{value:"1",class:"2"},"Yes",-1),it=t("option",{value:"0",class:"2"},"No",-1),st=[at,it],lt={class:"col-lg-4 mb-4"},nt=t("label",{class:"mb-2"},"Job Type",-1),dt={class:"col-lg-4 mb-4"},rt=t("label",{class:"mb-2"},"Division",-1),ct={class:"col-lg-4 mb-4"},pt=t("label",{class:"mb-2"},"Number of Profile",-1),mt={class:"col-lg-4 mb-4"},_t=t("label",{class:"mb-2"},"Workplace",-1),ut={class:"col-lg-4 mb-4"},bt=t("label",{class:"mb-2"},"Contract Type",-1),ht={class:"col-lg-4 mb-4"},ft=t("label",{class:"mb-2"},"Salary",-1),yt={class:"col-lg-4 mb-4"},vt=t("label",{class:"mb-2"},"Type of Work",-1),gt={class:"col-lg-4 mb-4"},jt=t("label",{class:"mb-2"},"Application Deadline",-1),wt={class:"col-lg-4 mb-4"},kt=t("label",{class:"mb-2"},"CANDIDATI Link",-1),Vt={class:"col-lg-12 mb-4"},Ut=t("label",{class:"mb-2"},"Useful Information",-1),Tt={class:"col-lg-12 mb-4"},At=t("label",{class:"mb-2"},"Job Description",-1),Ct={class:"col-lg-12 mb-4"},St=t("label",{class:"mb-2"},"Requirements",-1),Dt={class:"col-lg-12 mb-4"},Ft=t("label",{class:"mb-2"},"Company Profile",-1),Mt={class:"row mt-3"},qt=t("div",{class:"col-lg-3"},[t("button",{type:"submit",class:"btn-success btn btn-md"},"Submit")],-1),Lt={key:0,class:"error text-danger mt-4"},Et="https://node-project-backend-nu.vercel.app/api/jobs/update",Ht="https://node-project-backend-nu.vercel.app/api/category/get",It="https://node-project-backend-nu.vercel.app/api/location/get",Kt="https://node-project-backend-nu.vercel.app/api/jobs/get/",Bt={components:{Ckeditor:A},data(){return{title:"",publication:"",category_id:"",location_id:"",is_active:"",is_featured:"",jobDescription:"",requirement:"",company_profile:"",job_type:"",division:"",number_of_profile:"",workplace:"",contract_type:"",salary:"",type_of_work:"",application_deadline:"",useful_information:"",link:"",error:"",category_data:[],location_data:[],id:""}},mounted(){p.get(Ht,{headers:{"Content-Type":"application/json",Authorization:"lFM0vdsTK2HBwMTEVxjUF4LKCd2c2qS58MAy3hw5bmATF8hOuXPVYLHATiUA9ISV"}}).then(i=>{this.category_data=i.data.data}).catch(i=>{console.error("Error fetching data:",i)}),p.get(It,{headers:{"Content-Type":"application/json",Authorization:"lFM0vdsTK2HBwMTEVxjUF4LKCd2c2qS58MAy3hw5bmATF8hOuXPVYLHATiUA9ISV"}}).then(i=>{this.location_data=i.data.data}).catch(i=>{console.error("Error fetching data:",i)}),this.fetchCategoryData()},methods:{async submit(){console.log(this.jobDescription," job_description_data");const i=await p.post(Et,{title:this.title,id:this.id,publication:this.publication,category_id:this.category_id,location_id:this.location_id,is_active:this.is_active,is_featured:this.is_featured,job_description:this.jobDescription,requirement:this.requirement,company_profile:this.company_profile,job_type:this.job_type,division:this.division,number_of_profile:this.number_of_profile,workplace:this.workplace,contract_type:this.contract_type,salary:this.salary,type_of_work:this.type_of_work,application_deadline:this.application_deadline,useful_information:this.useful_information,link:this.link},{headers:{"Content-Type":"application/json",Authorization:"lFM0vdsTK2HBwMTEVxjUF4LKCd2c2qS58MAy3hw5bmATF8hOuXPVYLHATiUA9ISV"}}),n=i==null?void 0:i.data;n&&(n==null?void 0:n.status)=="success"?(Swal.fire({title:n.msg,icon:"success"}),this.$router.push("/Jobs")):(console.log(i),this.error=n.msg)},fetchCategoryData(){p.get(Kt+$("._id").val(),{headers:{"Content-Type":"application/json",Authorization:"lFM0vdsTK2HBwMTEVxjUF4LKCd2c2qS58MAy3hw5bmATF8hOuXPVYLHATiUA9ISV"}}).then(i=>{this.title=i.data.data.title,this.publication=i.data.data.publication,this.category_id=i.data.data.category_id,this.location_id=i.data.data.location_id,this.is_active=i.data.data.status,this.is_featured=i.data.data.is_featured,this.jobDescription=i.data.data.job_description,this.requirement=i.data.data.requirement,this.company_profile=i.data.data.company_profile,this.id=i.data.data.id,this.job_type=i.data.data.job_type,this.division=i.data.data.division,this.number_of_profile=i.data.data.number_of_profile,this.workplace=i.data.data.workplace,this.contract_type=i.data.data.contract_type,this.salary=i.data.data.salary,this.type_of_work=i.data.data.type_of_work,this.application_deadline=i.data.data.application_deadline,this.useful_information=i.data.data.useful_information,this.link=i.data.data.link}).catch(i=>{console.error("Error fetching category data:",i)})}}},Xt=Object.assign(Bt,{__name:"edit_job",setup(i){const n=y();return(o,a)=>{const f=v("router-link");return r(),d("div",C,[_(U),t("div",S,[_(T),t("div",D,[t("div",F,[t("div",M,[t("div",q,[L,_(f,{class:"btn btn-primary",to:"/jobs"},{default:g(()=>[V("Show")]),_:1})]),t("form",{onSubmit:a[19]||(a[19]=j((...e)=>o.submit&&o.submit(...e),["prevent"]))},[t("input",{type:"hidden",name:"id",class:"_id",model:o.id,value:w(n).params.id},null,8,E),t("div",H,[t("div",I,[K,s(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.title=e),class:"form-control"},null,512),[[l,o.title]])]),t("div",B,[N,s(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o.publication=e),class:"form-control"},null,512),[[l,o.publication]])]),t("div",P,[O,s(t("select",{name:"category_id","onUpdate:modelValue":a[2]||(a[2]=e=>o.category_id=e),id:"",class:"form-select"},[Y,(r(!0),d(b,null,h(o.category_data,(e,m)=>(r(),d("option",{key:m,value:e.id},u(e.name),9,z))),128))],512),[[c,o.category_id]])]),t("div",J,[X,s(t("select",{name:"location_id",id:"","onUpdate:modelValue":a[3]||(a[3]=e=>o.location_id=e),class:"form-select"},[R,(r(!0),d(b,null,h(o.location_data,(e,m)=>(r(),d("option",{key:m,value:e.id},u(e.name),9,W))),128))],512),[[c,o.location_id]])]),t("div",G,[Q,s(t("select",{name:"is_active","onUpdate:modelValue":a[4]||(a[4]=e=>o.is_active=e),id:"",class:"form-select"},tt,512),[[c,o.is_active]])]),t("div",ot,[et,s(t("select",{name:"is_featured",id:"","onUpdate:modelValue":a[5]||(a[5]=e=>o.is_featured=e),class:"form-select"},st,512),[[c,o.is_featured]])]),t("div",lt,[nt,s(t("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>o.job_type=e),class:"form-control"},null,512),[[l,o.job_type]])]),t("div",dt,[rt,s(t("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>o.division=e),class:"form-control"},null,512),[[l,o.division]])]),t("div",ct,[pt,s(t("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=e=>o.number_of_profile=e),class:"form-control"},null,512),[[l,o.number_of_profile]])]),t("div",mt,[_t,s(t("input",{type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>o.workplace=e),class:"form-control"},null,512),[[l,o.workplace]])]),t("div",ut,[bt,s(t("input",{type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>o.contract_type=e),class:"form-control"},null,512),[[l,o.contract_type]])]),t("div",ht,[ft,s(t("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>o.salary=e),class:"form-control"},null,512),[[l,o.salary]])]),t("div",yt,[vt,s(t("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>o.type_of_work=e),class:"form-control"},null,512),[[l,o.type_of_work]])]),t("div",gt,[jt,s(t("input",{type:"date","onUpdate:modelValue":a[13]||(a[13]=e=>o.application_deadline=e),class:"form-control"},null,512),[[l,o.application_deadline]])]),t("div",wt,[kt,s(t("input",{type:"text","onUpdate:modelValue":a[14]||(a[14]=e=>o.link=e),class:"form-control"},null,512),[[l,o.link]])]),t("div",Vt,[Ut,s(t("textarea",{name:"job_description","onUpdate:modelValue":a[15]||(a[15]=e=>o.useful_information=e),class:"form-control",id:"job_description",rows:"12"},null,512),[[l,o.useful_information]])]),t("div",Tt,[At,s(t("textarea",{name:"job_description","onUpdate:modelValue":a[16]||(a[16]=e=>o.jobDescription=e),class:"form-control",id:"job_description",rows:"12"},null,512),[[l,o.jobDescription]])]),t("div",Ct,[St,s(t("textarea",{name:"requirement","onUpdate:modelValue":a[17]||(a[17]=e=>o.requirement=e),class:"form-control",id:"editor",rows:"12"},null,512),[[l,o.requirement]])]),t("div",Dt,[Ft,s(t("textarea",{name:"company_profile","onUpdate:modelValue":a[18]||(a[18]=e=>o.company_profile=e),class:"form-control",id:"editor",rows:"12"},null,512),[[l,o.company_profile]])])]),t("div",Mt,[qt,o.error?(r(),d("p",Lt,"Error: "+u(o.error),1)):k("",!0)])],32)])])])])])}}});export{Xt as default};
